# Tr√°fegoDNS Environment Configuration
# Copy this file to .env and adjust values as needed

# ========================================================================
# DNS PROVIDER SELECTION
# ========================================================================
# Options: cloudflare, digitalocean, route53 (choose one)
DNS_PROVIDER=cloudflare

# ========================================================================
# CLOUDFLARE SETTINGS
# ========================================================================
# Your Cloudflare API token (requires DNS edit permissions for zone)
CLOUDFLARE_TOKEN=your_cloudflare_api_token
# Your domain name managed in Cloudflare
CLOUDFLARE_ZONE=example.com

# ========================================================================
# DIGITALOCEAN SETTINGS
# ========================================================================
# Your DigitalOcean API token (requires write access)
DO_TOKEN=your_digitalocean_api_token
# Your domain name managed in DigitalOcean
DO_DOMAIN=example.com

# ========================================================================
# ROUTE53 SETTINGS
# ========================================================================
# Your AWS IAM access key (requires Route53 permissions)
ROUTE53_ACCESS_KEY=your_aws_access_key
# Your AWS IAM secret key
ROUTE53_SECRET_KEY=your_aws_secret_key
# Your domain name managed in Route53
ROUTE53_ZONE=example.com
# Alternative to ROUTE53_ZONE: Your Route53 hosted zone ID
# ROUTE53_ZONE_ID=Z1234567890ABC
# AWS region for Route53 API calls
ROUTE53_REGION=eu-west-2

# ========================================================================
# TRAEFIK API SETTINGS
# ========================================================================
# URL to Traefik API (including protocol and port)
TRAEFIK_API_URL=http://traefik:8080/api
# Optional basic auth credentials for Traefik API
TRAEFIK_API_USERNAME=
TRAEFIK_API_PASSWORD=

# ========================================================================
# DNS DEFAULT SETTINGS
# ========================================================================
# Default DNS record type when not specified by labels
DNS_DEFAULT_TYPE=CNAME
# Default record content when not specified by labels
DNS_DEFAULT_CONTENT=example.com
# Default Cloudflare proxy status (true=orange cloud, false=grey cloud)
DNS_DEFAULT_PROXIED=true
# Default TTL in seconds (1=Auto for Cloudflare, min 30 for DigitalOcean, min 60 for Route53)
DNS_DEFAULT_TTL=1
# Global DNS management mode (true=opt-out, false=opt-in)
DNS_DEFAULT_MANAGE=true

# ========================================================================
# APPLICATION BEHAVIOUR
# ========================================================================
# How often to poll Traefik API (in milliseconds)
POLL_INTERVAL=30000
# Whether to watch Docker events for container changes
WATCH_DOCKER_EVENTS=true
# Whether to automatically remove orphaned DNS records
CLEANUP_ORPHANED=false
# Comma-separated list of hostnames to preserve from cleanup
# Supports exact matches and wildcards (e.g., *.admin.example.com)
PRESERVED_HOSTNAMES=static.example.com,api.example.com,*.admin.example.com

# ========================================================================
# IP ADDRESS SETTINGS
# ========================================================================
# Manual override for public IPv4 (auto-detected if not set)
PUBLIC_IP=
# Manual override for public IPv6 (auto-detected if not set)
PUBLIC_IPV6=
# How often to refresh IP detection (in milliseconds)
IP_REFRESH_INTERVAL=3600000

# ========================================================================
# ADVANCED SETTINGS
# ========================================================================
# Base prefix for DNS labels (rarely needs changing)
DNS_LABEL_PREFIX=dns.
# Prefix for Traefik labels (rarely needs changing)
TRAEFIK_LABEL_PREFIX=traefik.
# Path to Docker socket
DOCKER_SOCKET=/var/run/docker.sock
# Logging level (ERROR, WARN, INFO, DEBUG, TRACE)
LOG_LEVEL=INFO
# How often to refresh DNS cache (in milliseconds)
DNS_CACHE_REFRESH_INTERVAL=3600000